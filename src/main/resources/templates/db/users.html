<th:block layout:decorate="~{layout/bootstraplayout}"
	layout:fragment="content">

	<!-- Page Content -->
	<div class="container" id="dbUsersPage">
		<div class="row">
			<div class="col-lg-12">
				<h2>Users</h2>
				
				<div class="row">
					<div class="col">
						<div style="margin-bottom: 20px;">
							<button type="button" class="btn btn-primary newUserBtn"
								data-target="#newUserModal">Add New User</button>
						</div>
					</div>
				</div>
				
				<table class="table table-striped table-sm">
					<thead>
						<tr>
							<th scope="col">Id</th>
							<th scope="col">Username</th>
							<th scope="col">Email</th>
							<th scope="col">Roles</th>
							<th></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr th:if="${users.isEmpty()}">
							<td colspan="2">No users.</td>
						</tr>
						<tr th:if="${!users.isEmpty()}" th:each="user : ${users}">
						<!--tr th:if="${!users.isEmpty()}" th:each="user : ${users}" class="editRoleBtn" 
							th:href="@{/db/users/find/{id}(id=${user.getId()})}"-->
							<td th:text="${user.getId()}"></td>
							<td th:text="${user.getUsername()}"></td>
							<td th:text="${user.getEmail()}"></td>
							<td th:text="${user.rolesToString()}"></td>
							<td><a class="editUserBtn"
								th:href="@{/db/users/find/{id}(id=${user.getId()})}">Edit</a></td>
							<td><a class="deleteUserBtn"
								th:href="@{/db/users/delete/{id}(id=${user.getId()})}">Delete</a></td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="row">
				<th:block th:include="db/newUserModal"></th:block>
			</div>
			<div class="row">
				<th:block th:include="db/editUserModal"></th:block>
			</div>
		</div>
	</div>
	<!-- /.container -->


</th:block>


